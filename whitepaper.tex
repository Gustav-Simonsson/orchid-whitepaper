%%% whitepaper.tex: -*- LaTeX -*-  The general structure for the whitepaper.
%%%
%%% Copyright (c) 2017 Brian J. Fox & Orchid Labs, Inc.
%%% Author: Brian J. Fox (bfox@meshlabs.org) Tue Oct 10 11:36:56 2017.
%%% Author: A shitload of others.
\documentclass{article}
% test seven

\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{svg}
\usepackage[letterpaper, portrait, margin=1in]{geometry}
\usepackage{multicol}
\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage{mfirstuc}
\usepackage{cleveref}
\usepackage{verbatim}
\usepackage{titlesec}
\usepackage[parfill]{parskip}

% Set up BibTex/biber
\usepackage[backend=biber,style=numeric-comp,url=true]{biblatex}
\bibliography{whitepaper}

% Added by BrianV
\usepackage{color}
\usepackage{amsfonts}
\usepackage{enumitem}
\usepackage{siunitx}
\usepackage{scrextend}
\usepackage[ruled]{algorithm2e}
\usepackage{tikz}
\usetikzlibrary{cd}

% Set graphics path and column separation
\graphicspath{ {images/} }
\setlength{\columnsep}{1cm}

% Add new commands
\input{commands}

% Add title elements
\input{title}
\author{{David L. Salamon, Gustav Simonsson, Brian Vohaska, and Brian J. Fox with} \\ {{Stephen F. Bell, and Steven Waterhouse, Ph.D.}}}
%% \author{Orchid Labs, Inc.}
\date{\today{} \\ Version 0.9.0}

\raggedbottom

\begin{document}

\maketitle

    \begin{abstract}
    \input{content/abstract}
    \end{abstract}

    % \newpage
    % \tableofcontents
    % \newpage

    \section{Introduction}
    \label{sec:overview}
    \input{content/introduction2}

    \section{Alternative Approaches}
    \label{sec:prior-work}
    \input{content/approaches}
    
    \section{Attacks}
    \label{sec:attacks}
    \input{content/attacks}

    \section{\TOM{}}
    \label{sec:market}
    \input{content/market}

    \section{Medallions}
    \label{medallions}
    \input{content/medallions}

    \section{Payments}
    \label{sec:payments}
    \input{content/payments}

    \section{Bandwidth Mining}
    \label{sec:mining}
    \input{content/bandwidth-mining}
      
    \section{Performance Scaling}
    \label{sec:performance}
    \input{content/performance}

    \section{External Libraries}
    \label{sec:external-libraries}
    \input{content/external-libraries}

	% \section{Current State of the Software}
	% \label{sec:current}
	% \input{content/software-status}
    
    \section{Future Work}
    \label{sec:future}
    \input{content/future-work}

\newpage

% \nocite{*}
\printbibliography

\newpage

\appendix

    % hide subsubsections from the TOC
    \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
    \section{Auctions}
    \label{sec:auctions}
    \input{content/auctions}
    % show subsubsections in the TOC again
    \addtocontents{toc}{\protect\setcounter{tocdepth}{3}}

	% hide subsubsections from the TOC
    \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
    \section{Attacks and Security}
    \label{sec:attacksappendix}
    \input{content/attacks-appendix}
    % show subsubsections in the TOC again
    \addtocontents{toc}{\protect\setcounter{tocdepth}{3}}

    % hide subsubsections from the TOC
    \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
    \section{Medallion Engineering Specification}
    \label{medallionspow}
    \input{content/medallionspow}
    % show subsubsections in the TOC again
    \addtocontents{toc}{\protect\setcounter{tocdepth}{3}}

    % hide subsubsections from the TOC
    \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
    \section{Payment Protocol and Definitions}
    \label{paymentsprotocol}
    \input{content/paymentsprotocol}
    % show subsubsections in the TOC again
    \addtocontents{toc}{\protect\setcounter{tocdepth}{3}}
    
	% hide subsubsections from the TOC
    \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
    \section{Additional Payment Details}
    \label{paymentsextra}
    \input{content/paymentsextra}
    % show subsubsections in the TOC again
    \addtocontents{toc}{\protect\setcounter{tocdepth}{3}}
    
    % hide subsubsections from the TOC
    \addtocontents{toc}{\protect\setcounter{tocdepth}{2}}
    \section{Related Work}
    \label{sec:related}
    \input{content/related.tex}
    % show subsubsections in the TOC again
    \addtocontents{toc}{\protect\setcounter{tocdepth}{3}}

\end{document}
